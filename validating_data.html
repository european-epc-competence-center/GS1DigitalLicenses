<!DOCTYPE html>
<html lang="en">
<head>
</head>
<body>
    <h2>Validating Data Credentials</h2>
    <p>This section describes the philosophy and proceedures to validate GS1 Data Credentials.</p>
    <section id="data-validation-whatis">
        <h3>What is Data Validation</h3>
        <p>Data credental validation is the process of validating a set of data about a GS1 ID Key.

        <p>For example, a Data Credential about a GS1 Digital Link describing a GTIN might assert master data about the product
        such as dimensions, color, sizing, description, country of origin or any other attribute.  In this case,
        its desirable to verify that this data has not been altered and was created by the licensee of that specific GTIN.</p>

        <p>Another data credential might offer details about a specific shipment (SSCC) like the date,
            time, and location the shipment was received by a specific party. In this case, its important
            to verify that this data was untampered, but is unlikely this would be issued by the licensee
            of the SSCC</p>
    </section>

    <section id="data-validation-philosophy">
        <h3>Data Validation Overview</h3>
        <p></p>
    </section>
    <section id="data-validation-rules">
        <h3>Data Validation Rules</h3>

        Denoting the GS1 ID Data Credential as <strong>D</strong>,
        the following steps MUST be performed to validate a GS1 Data Credential

        <ul>
            <li><strong>D</strong> MUST be a valid VCDM 2.0 credential document (<span class="todo">TODO</span> is there a schema)</li>
            <li>The signature of <strong>D</strong> MUST be valid and from a signing key referenced in the issuer DID</li>
            <li><strong>D</strong> MUST NOT be revoked (see <span class="todo">TODO</span> is this required)</li>
            <li><strong>D</strong> <code>validFrom</code> MUST NOT be in the future</li>
            <li>The credential document <strong>D</strong>  MUST conform to the JSON schema for the data credential:
                <ul>
                    <li>For general data credentials  <a href="https://id.gs1.org/vc/schema/v1/data">https://id.gs1.org/vc/schema/v1/data</a></li>
                    <li>For product data credentials  <a href="https://id.gs1.org/vc/schema/v1/data">https://id.gs1.org/vc/schema/v1/producdata</a></li>
                    <li>For organization data credentials  <a href="https://id.gs1.org/vc/schema/v1/data">https://id.gs1.org/vc/schema/v1/organizationdata</a></li>
                    <li>For custom dsata credentials, any additional schemas defined within the credential</li>
                </ul>
            </li>
        </ul>

        If the credential <strong>D</strong> contains a <code>keyAuthorization</code> field, denoting the credential referenced by this field as <strong>K</strong>,its possible to verify that this credential data was created by the licensee of the GS1 ID Key.  The following steps SHOULD be performed:

        <ul>
            <li>The <code>issuer</code> of <strong>D</strong>  MUST match the issuer of <strong>K</strong></li>
            <li><strong>K</strong> MUST be a valid <a href="#key-validation-rules">GS1 Key Credential</a></li>
            <li>The canonicalized <strong>D</strong> <code>credentialSubject</code> <code>id</code> MUST start with
                and MAY extend the canonicalized <strong>K</strong> <ode>credentialSubject</ode> <code>id</code></li>
        </ul>

    </section>
    <section id="data-validation-tools">
        <h3>Data Validation Libraries and Tools</h3>
        <p><span class="todo">TODO</span></p>
    </section>
</body>